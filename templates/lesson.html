{% extends 'base.html' %}

{% block title %}Session {{ session.session_number }}: {{ session.title }}{% endblock %}

{% block content %}
<div class="lesson-wrapper">
    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
        <span class="progress-text"><span id="currentSlide">1</span> / <span id="totalSlides">15</span></span>
    </div>

    <!-- Slide Container -->
    <div class="slides-container" id="slidesContainer">

        <!-- SLIDE 1: Title Slide -->
        <div class="slide active" data-slide="1">
            <div class="slide-bg-animated"></div>
            <div class="floating-symbols">
                <span class="symbol" style="--delay: 0s; --x: 10%; --y: 20%;">{ }</span>
                <span class="symbol" style="--delay: 0.5s; --x: 80%; --y: 15%;">&lt;/&gt;</span>
                <span class="symbol" style="--delay: 1s; --x: 15%; --y: 70%;">def</span>
                <span class="symbol" style="--delay: 1.5s; --x: 75%; --y: 65%;">class</span>
                <span class="symbol" style="--delay: 2s; --x: 50%; --y: 30%;">import</span>
                <span class="symbol" style="--delay: 2.5s; --x: 85%; --y: 45%;">async</span>
            </div>
            <div class="title-content">
                <div class="course-badge">COMP 019 - Session {{ session.session_number }}</div>
                <h1 class="main-title typewriter">Introduction to Full-Stack</h1>
                <h1 class="main-title typewriter delay">Python Development</h1>
                <p class="subtitle fade-in-delayed">"Building Complete Web & Mobile Applications"</p>
                <button class="start-btn pulse" onclick="nextSlide()">
                    <span class="play-icon">&#9654;</span> Start Learning
                </button>
            </div>
        </div>

        <!-- SLIDE 2: Learning Objectives -->
        <div class="slide" data-slide="2">
            <div class="slide-header">
                <div class="lightbulb-icon glow-animation">&#128161;</div>
                <h2>LEARNING OBJECTIVES</h2>
            </div>
            <div class="objectives-container">
                <div class="objective-card" style="--delay: 0.2s">
                    <div class="obj-number">1</div>
                    <div class="obj-icon">&#127919;</div>
                    <div class="obj-content">
                        <span class="key-term">FULL-STACK</span>
                        <p>Understand what full-stack development means</p>
                    </div>
                    <div class="obj-check">&#10003;</div>
                </div>
                <div class="objective-card" style="--delay: 0.5s">
                    <div class="obj-number">2</div>
                    <div class="obj-icon">&#128013;</div>
                    <div class="obj-content">
                        <span class="key-term">PYTHON</span>
                        <p>Review essential Python programming concepts</p>
                    </div>
                    <div class="obj-check">&#10003;</div>
                </div>
                <div class="objective-card" style="--delay: 0.8s">
                    <div class="obj-number">3</div>
                    <div class="obj-icon">&#128736;</div>
                    <div class="obj-content">
                        <span class="key-term">ENVIRONMENT</span>
                        <p>Set up your development environment</p>
                    </div>
                    <div class="obj-check">&#10003;</div>
                </div>
                <div class="objective-card" style="--delay: 1.1s">
                    <div class="obj-number">4</div>
                    <div class="obj-icon">&#127959;</div>
                    <div class="obj-content">
                        <span class="key-term">ARCHITECTURE</span>
                        <p>Understand application architecture patterns</p>
                    </div>
                    <div class="obj-check">&#10003;</div>
                </div>
            </div>
        </div>

        <!-- SLIDE 3: What is Full-Stack? -->
        <div class="slide" data-slide="3">
            <h2 class="slide-title">What is <span class="key-term">FULL-STACK</span> Development?</h2>
            <div class="stack-diagram">
                <div class="stack-layer frontend" onclick="showLayerDetail('frontend')">
                    <div class="layer-icon">&#128421;</div>
                    <div class="layer-name">FRONTEND</div>
                    <div class="layer-desc">What users SEE</div>
                </div>
                <div class="flow-arrow-horizontal">&#8594;</div>
                <div class="stack-layer backend" onclick="showLayerDetail('backend')">
                    <div class="layer-icon">&#9881;</div>
                    <div class="layer-name">BACKEND</div>
                    <div class="layer-desc">Server LOGIC</div>
                </div>
                <div class="flow-arrow-horizontal">&#8594;</div>
                <div class="stack-layer database" onclick="showLayerDetail('database')">
                    <div class="layer-icon">&#128451;</div>
                    <div class="layer-name">DATABASE</div>
                    <div class="layer-desc">Where data LIVES</div>
                </div>
            </div>
            <div class="definition-box">
                <div class="def-icon">&#128204;</div>
                <div class="def-content">
                    <strong>KEY DEFINITION</strong>
                    <p><span class="key-term">FULL-STACK</span> = Working on ALL layers of an application (Frontend + Backend + Database)</p>
                </div>
            </div>
        </div>

        <!-- SLIDE 4: The Three Layers (Flip Cards) -->
        <div class="slide" data-slide="4">
            <h2 class="slide-title">The THREE LAYERS of Full-Stack</h2>
            <p class="slide-subtitle">Click cards to flip and learn more!</p>
            <div class="flip-cards-container">
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front frontend-card">
                            <div class="card-icon">&#128421;</div>
                            <h3>FRONTEND</h3>
                            <p>Client Side</p>
                        </div>
                        <div class="flip-card-back">
                            <h4>Technologies:</h4>
                            <ul>
                                <li>HTML / CSS</li>
                                <li>JavaScript</li>
                                <li>Kivy (Python)</li>
                                <li>React / Vue</li>
                            </ul>
                            <p class="card-quote">"What users interact with"</p>
                        </div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front backend-card">
                            <div class="card-icon">&#9881;</div>
                            <h3>BACKEND</h3>
                            <p>Server Side</p>
                        </div>
                        <div class="flip-card-back">
                            <h4>Technologies:</h4>
                            <ul>
                                <li>Python</li>
                                <li>Django / Flask</li>
                                <li>REST APIs</li>
                                <li>Authentication</li>
                            </ul>
                            <p class="card-quote">"Where magic happens"</p>
                        </div>
                    </div>
                </div>
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front database-card">
                            <div class="card-icon">&#128451;</div>
                            <h3>DATABASE</h3>
                            <p>Data Storage</p>
                        </div>
                        <div class="flip-card-back">
                            <h4>Technologies:</h4>
                            <ul>
                                <li>SQLite</li>
                                <li>PostgreSQL</li>
                                <li>MySQL</li>
                                <li>MongoDB</li>
                            </ul>
                            <p class="card-quote">"Where data is stored"</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 5: Our Tech Stack (Animated Tower) -->
        <div class="slide" data-slide="5">
            <h2 class="slide-title">&#127959; OUR TECHNOLOGY STACK</h2>
            <div class="tech-stack-tower">
                <div class="stack-level" style="--delay: 1.2s">
                    <div class="level-number">5</div>
                    <div class="level-content mobile-level">
                        <span class="level-icon">&#128241;</span>
                        <div class="level-info">
                            <strong>MOBILE APP</strong>
                            <span>Python GUI</span>
                        </div>
                    </div>
                    <div class="level-tech">Kivy</div>
                </div>
                <div class="stack-level" style="--delay: 0.9s">
                    <div class="level-number">4</div>
                    <div class="level-content web-level">
                        <span class="level-icon">&#127760;</span>
                        <div class="level-info">
                            <strong>WEB INTERFACE</strong>
                            <span>HTML/CSS/JS</span>
                        </div>
                    </div>
                    <div class="level-tech">Django Templates</div>
                </div>
                <div class="stack-level" style="--delay: 0.6s">
                    <div class="level-number">3</div>
                    <div class="level-content api-level">
                        <span class="level-icon">&#128268;</span>
                        <div class="level-info">
                            <strong>REST API</strong>
                            <span>JSON Communication</span>
                        </div>
                    </div>
                    <div class="level-tech">DRF</div>
                </div>
                <div class="stack-level" style="--delay: 0.3s">
                    <div class="level-number">2</div>
                    <div class="level-content backend-level">
                        <span class="level-icon">&#9881;</span>
                        <div class="level-info">
                            <strong>BACKEND LOGIC</strong>
                            <span>Business Rules</span>
                        </div>
                    </div>
                    <div class="level-tech">Python</div>
                </div>
                <div class="stack-level" style="--delay: 0s">
                    <div class="level-number">1</div>
                    <div class="level-content db-level">
                        <span class="level-icon">&#128451;</span>
                        <div class="level-info">
                            <strong>DATABASE</strong>
                            <span>Data Storage</span>
                        </div>
                    </div>
                    <div class="level-tech">SQLite &rarr; PostgreSQL</div>
                </div>
            </div>
            <div class="stack-badge pop-in">
                <span>&#127942;</span> FULL-STACK DEVELOPER <span>&#127942;</span>
            </div>
            <div class="remember-box">
                <p>You'll learn ALL these layers this semester!</p>
            </div>
        </div>

        <!-- SLIDE 6: Python Review - Data Types -->
        <div class="slide" data-slide="6">
            <h2 class="slide-title">&#128013; PYTHON DATA TYPES REVIEW</h2>
            <div class="data-types-grid">
                <div class="type-card string-card">
                    <div class="type-header">
                        <span class="type-icon">&#128221;</span>
                        <span class="type-name">STRING</span>
                    </div>
                    <div class="type-visual">"Hello"</div>
                    <div class="code-block">
                        <code><span class="var">name</span> = <span class="str">"Juan"</span></code>
                        <code><span class="func">print</span>(name[<span class="num">0</span>])</code>
                        <code class="output"># Output: J</code>
                    </div>
                    <div class="type-badge immutable">&#128273; Immutable</div>
                </div>
                <div class="type-card list-card">
                    <div class="type-header">
                        <span class="type-icon">&#128203;</span>
                        <span class="type-name">LIST</span>
                    </div>
                    <div class="type-visual">
                        <div class="list-visual">
                            <span>1</span><span>2</span><span>3</span>
                        </div>
                    </div>
                    <div class="code-block">
                        <code><span class="var">nums</span> = [<span class="num">1</span>, <span class="num">2</span>, <span class="num">3</span>]</code>
                        <code>nums.<span class="func">append</span>(<span class="num">4</span>)</code>
                    </div>
                    <div class="type-badge mutable">&#128275; Mutable</div>
                </div>
                <div class="type-card dict-card">
                    <div class="type-header">
                        <span class="type-icon">&#128214;</span>
                        <span class="type-name">DICTIONARY</span>
                    </div>
                    <div class="type-visual dict-visual">
                        <div class="dict-row"><span class="key">name</span><span class="val">"Juan"</span></div>
                        <div class="dict-row"><span class="key">age</span><span class="val">20</span></div>
                    </div>
                    <div class="code-block">
                        <code><span class="var">student</span> = {</code>
                        <code>  <span class="str">"name"</span>: <span class="str">"Juan"</span></code>
                        <code>}</code>
                    </div>
                    <div class="type-badge">&#128273; Key-Value</div>
                </div>
                <div class="type-card tuple-card">
                    <div class="type-header">
                        <span class="type-icon">&#128230;</span>
                        <span class="type-name">TUPLE</span>
                    </div>
                    <div class="type-visual">(1, 2, 3)</div>
                    <div class="code-block">
                        <code><span class="var">coords</span> = (<span class="num">10</span>, <span class="num">20</span>)</code>
                        <code class="comment"># Cannot change!</code>
                    </div>
                    <div class="type-badge immutable">&#128274; Immutable</div>
                </div>
            </div>
            <div class="key-point-box">
                <span class="key-icon">&#128161;</span>
                <strong>KEY POINT:</strong> Lists are <span class="key-term-inline mutable">MUTABLE</span>, Tuples are <span class="key-term-inline immutable">IMMUTABLE</span>
            </div>
        </div>

        <!-- SLIDE 7: Control Structures -->
        <div class="slide" data-slide="7">
            <h2 class="slide-title">&#128256; CONTROL STRUCTURES</h2>
            <div class="control-tabs">
                <button class="tab-btn active" onclick="showControlTab('ifelse', this)">IF/ELSE</button>
                <button class="tab-btn" onclick="showControlTab('forloop', this)">FOR LOOP</button>
                <button class="tab-btn" onclick="showControlTab('whileloop', this)">WHILE LOOP</button>
            </div>
            <div class="control-content">
                <div class="control-panel active" id="ifelse-panel">
                    <div class="flowchart">
                        <div class="flow-node start">grade = 85</div>
                        <div class="flow-arrow">&#8595;</div>
                        <div class="flow-node condition">grade >= 75?</div>
                        <div class="flow-branches">
                            <div class="flow-branch yes">
                                <span class="branch-label">YES</span>
                                <div class="flow-node result success">"Passed!"</div>
                            </div>
                            <div class="flow-branch no">
                                <span class="branch-label">NO</span>
                                <div class="flow-node result fail">"Failed"</div>
                            </div>
                        </div>
                    </div>
                    <div class="code-example">
                        <div class="code-block-large">
                            <code><span class="var">grade</span> = <span class="num">85</span></code>
                            <code><span class="keyword">if</span> grade >= <span class="num">75</span>:</code>
                            <code>    <span class="func">print</span>(<span class="str">"Passed!"</span>)</code>
                            <code><span class="keyword">else</span>:</code>
                            <code>    <span class="func">print</span>(<span class="str">"Failed"</span>)</code>
                        </div>
                    </div>
                </div>
                <div class="control-panel" id="forloop-panel">
                    <div class="loop-visual">
                        <div class="loop-iteration" style="--i: 0">i=0</div>
                        <div class="loop-iteration" style="--i: 1">i=1</div>
                        <div class="loop-iteration" style="--i: 2">i=2</div>
                        <div class="loop-iteration" style="--i: 3">i=3</div>
                        <div class="loop-iteration" style="--i: 4">i=4</div>
                    </div>
                    <div class="code-example">
                        <div class="code-block-large">
                            <code><span class="keyword">for</span> i <span class="keyword">in</span> <span class="func">range</span>(<span class="num">5</span>):</code>
                            <code>    <span class="func">print</span>(i)</code>
                            <code class="output"># Output: 0 1 2 3 4</code>
                        </div>
                    </div>
                </div>
                <div class="control-panel" id="whileloop-panel">
                    <div class="while-visual">
                        <div class="counter-display">
                            <span id="whileCounter">5</span>
                        </div>
                        <button class="run-btn" onclick="runWhileDemo()">&#9654; Run Demo</button>
                    </div>
                    <div class="code-example">
                        <div class="code-block-large">
                            <code><span class="var">count</span> = <span class="num">5</span></code>
                            <code><span class="keyword">while</span> count > <span class="num">0</span>:</code>
                            <code>    <span class="func">print</span>(count)</code>
                            <code>    count -= <span class="num">1</span></code>
                            <code><span class="func">print</span>(<span class="str">"Done!"</span>)</code>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 8: Functions & OOP -->
        <div class="slide" data-slide="8">
            <h2 class="slide-title">&#9889; FUNCTIONS & CLASSES</h2>
            <div class="split-view">
                <div class="split-panel function-panel">
                    <h3>&#9889; Functions</h3>
                    <div class="function-diagram">
                        <div class="func-input">INPUT<br/>[85, 90]</div>
                        <div class="func-arrow">&#8594;</div>
                        <div class="func-box">
                            <span>Function</span>
                            <code>calculate_avg</code>
                        </div>
                        <div class="func-arrow">&#8594;</div>
                        <div class="func-output">OUTPUT<br/>87.5</div>
                    </div>
                    <div class="code-block-large">
                        <code><span class="keyword">def</span> <span class="func">calculate_avg</span>(scores):</code>
                        <code>    total = <span class="func">sum</span>(scores)</code>
                        <code>    <span class="keyword">return</span> total / <span class="func">len</span>(scores)</code>
                        <code></code>
                        <code>result = calculate_avg([<span class="num">85</span>, <span class="num">90</span>])</code>
                        <code><span class="func">print</span>(result)  <span class="comment"># 87.5</span></code>
                    </div>
                </div>
                <div class="split-panel class-panel">
                    <h3>&#127963; Classes (OOP)</h3>
                    <div class="class-diagram">
                        <div class="class-box">
                            <div class="class-header">class Student</div>
                            <div class="class-section">
                                <span class="section-title">&#128230; Attributes:</span>
                                <ul>
                                    <li>name</li>
                                    <li>course</li>
                                    <li>grade</li>
                                </ul>
                            </div>
                            <div class="class-section">
                                <span class="section-title">&#9889; Methods:</span>
                                <ul>
                                    <li>introduce()</li>
                                    <li>study()</li>
                                    <li>graduate()</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="dual-tips">
                <div class="tip-box">&#128161; Functions = Reusable blocks of code</div>
                <div class="tip-box">&#128161; Classes = Blueprints for creating objects</div>
            </div>
        </div>

        <!-- SLIDE 9: Development Environment Setup -->
        <div class="slide" data-slide="9">
            <h2 class="slide-title">&#128736; DEVELOPMENT ENVIRONMENT SETUP</h2>
            <div class="progress-ring-container">
                <svg class="progress-ring" width="120" height="120">
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#0EA5E9"/>
                            <stop offset="100%" style="stop-color:#8B5CF6"/>
                        </linearGradient>
                    </defs>
                    <circle class="progress-ring-bg" cx="60" cy="60" r="52" />
                    <circle class="progress-ring-fill" cx="60" cy="60" r="52" />
                </svg>
                <div class="progress-text-ring">75%<br/>Complete</div>
            </div>
            <div class="setup-checklist">
                <div class="setup-item checked">
                    <div class="check-box">&#9745;</div>
                    <div class="setup-icon">&#128013;</div>
                    <div class="setup-info">
                        <strong>Python 3.10+</strong>
                        <code>python --version</code>
                        <span class="status success">&#10003; Installed: Python 3.12.0</span>
                    </div>
                </div>
                <div class="setup-item checked">
                    <div class="check-box">&#9745;</div>
                    <div class="setup-icon">&#128187;</div>
                    <div class="setup-info">
                        <strong>VS Code + Python Extension</strong>
                        <code>code.visualstudio.com</code>
                        <span class="status success">&#10003; Installed with Pylance</span>
                    </div>
                </div>
                <div class="setup-item checked">
                    <div class="check-box">&#9745;</div>
                    <div class="setup-icon">&#128230;</div>
                    <div class="setup-info">
                        <strong>Git Version Control</strong>
                        <code>git --version</code>
                        <span class="status success">&#10003; Installed: git 2.42.0</span>
                    </div>
                </div>
                <div class="setup-item">
                    <div class="check-box">&#9744;</div>
                    <div class="setup-icon">&#128302;</div>
                    <div class="setup-info">
                        <strong>Virtual Environment</strong>
                        <code>python -m venv venv</code>
                        <span class="status pending">&#8987; Next step...</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- SLIDE 10: Virtual Environment Visual -->
        <div class="slide" data-slide="10">
            <h2 class="slide-title">&#128302; VIRTUAL ENVIRONMENTS EXPLAINED</h2>
            <p class="slide-subtitle">Why? Keeps projects <span class="key-term">ISOLATED</span> from each other!</p>
            <div class="venv-diagram">
                <div class="system-python">
                    <div class="system-header">&#127968; SYSTEM PYTHON (Don't install here!)</div>
                    <div class="projects-row">
                        <div class="project-box">
                            <div class="project-name">&#128193; Project A</div>
                            <div class="venv-box">
                                <span class="venv-label">venv/</span>
                                <div class="packages">
                                    <span class="pkg django">Django 5.0</span>
                                    <span class="pkg">requests</span>
                                    <span class="pkg">numpy</span>
                                </div>
                            </div>
                            <div class="isolated-badge">&#128274; ISOLATED!</div>
                        </div>
                        <div class="project-box">
                            <div class="project-name">&#128193; Project B</div>
                            <div class="venv-box">
                                <span class="venv-label">venv/</span>
                                <div class="packages">
                                    <span class="pkg flask">Django 4.2</span>
                                    <span class="pkg">Flask 3.0</span>
                                    <span class="pkg">pandas</span>
                                </div>
                            </div>
                            <div class="isolated-badge">&#128274; ISOLATED!</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="benefits-list">
                <div class="benefit-item">&#9989; No version conflicts between projects</div>
                <div class="benefit-item">&#9989; Easy to share with requirements.txt</div>
                <div class="benefit-item">&#9989; Clean uninstall - just delete the folder</div>
            </div>
        </div>

        <!-- SLIDE 11: Venv Commands (Terminal) -->
        <div class="slide" data-slide="11">
            <h2 class="slide-title">&#9000; VIRTUAL ENVIRONMENT COMMANDS</h2>
            <div class="terminal-window">
                <div class="terminal-header">
                    <span class="terminal-btn red"></span>
                    <span class="terminal-btn yellow"></span>
                    <span class="terminal-btn green"></span>
                    <span class="terminal-title">Terminal</span>
                </div>
                <div class="terminal-body">
                    <div class="terminal-line"><span class="comment"># 1. CREATE virtual environment</span></div>
                    <div class="terminal-line">
                        <span class="prompt">$</span>
                        <span class="command">python -m venv venv</span>
                        <button class="copy-btn" onclick="copyCommand('python -m venv venv')">&#128203;</button>
                    </div>
                    <div class="terminal-line"><span class="comment"># 2. ACTIVATE (Windows)</span></div>
                    <div class="terminal-line">
                        <span class="prompt">$</span>
                        <span class="command">venv\Scripts\activate</span>
                        <button class="copy-btn" onclick="copyCommand('venv\\Scripts\\activate')">&#128203;</button>
                    </div>
                    <div class="terminal-line success">
                        <span class="prompt">(venv) $</span>
                        <span class="info">&larr; You'll see this prefix!</span>
                    </div>
                    <div class="terminal-line"><span class="comment"># 3. INSTALL packages</span></div>
                    <div class="terminal-line">
                        <span class="prompt">$</span>
                        <span class="command">pip install django</span>
                        <button class="copy-btn" onclick="copyCommand('pip install django')">&#128203;</button>
                    </div>
                    <div class="terminal-line"><span class="comment"># 4. SAVE dependencies</span></div>
                    <div class="terminal-line">
                        <span class="prompt">$</span>
                        <span class="command">pip freeze > requirements.txt</span>
                        <button class="copy-btn" onclick="copyCommand('pip freeze > requirements.txt')">&#128203;</button>
                    </div>
                    <div class="terminal-line"><span class="comment"># 5. DEACTIVATE when done</span></div>
                    <div class="terminal-line">
                        <span class="prompt">$</span>
                        <span class="command">deactivate</span>
                        <button class="copy-btn" onclick="copyCommand('deactivate')">&#128203;</button>
                    </div>
                </div>
            </div>
            <div class="remember-box">
                <p>&#128161; REMEMBER: Always activate venv before working!</p>
            </div>
        </div>

        <!-- SLIDE 12: Project Structure -->
        <div class="slide" data-slide="12">
            <h2 class="slide-title">&#128193; PROJECT STRUCTURE</h2>
            <div class="folder-tree">
                <div class="tree-item root">&#128193; my_fullstack_project/</div>
                <div class="tree-item"><span class="indent">&#9500;</span> &#128193; venv/ <span class="desc">&rarr; Virtual environment</span></div>
                <div class="tree-item folder" onclick="toggleFolder(this)">
                    <span class="indent">&#9500;</span> &#128193; backend/ <span class="desc">&rarr; Django project</span>
                    <div class="tree-children">
                        <div class="tree-item"><span class="indent">&#9474; &#9500;</span> &#128196; manage.py <span class="desc">&rarr; Django CLI</span></div>
                        <div class="tree-item"><span class="indent">&#9474; &#9500;</span> &#9881; settings.py <span class="desc">&rarr; Configuration</span></div>
                        <div class="tree-item"><span class="indent">&#9474; &#9500;</span> &#128279; urls.py <span class="desc">&rarr; URL routing</span></div>
                        <div class="tree-item"><span class="indent">&#9474; &#9492;</span> &#128451; models.py <span class="desc">&rarr; Database tables</span></div>
                    </div>
                </div>
                <div class="tree-item folder" onclick="toggleFolder(this)">
                    <span class="indent">&#9500;</span> &#128193; mobile/ <span class="desc">&rarr; Kivy app</span>
                    <div class="tree-children">
                        <div class="tree-item"><span class="indent">&#9474; &#9500;</span> &#128196; main.py <span class="desc">&rarr; App code</span></div>
                        <div class="tree-item"><span class="indent">&#9474; &#9492;</span> &#127912; main.kv <span class="desc">&rarr; UI design</span></div>
                    </div>
                </div>
                <div class="tree-item"><span class="indent">&#9500;</span> &#128203; requirements.txt <span class="desc">&rarr; Dependencies</span></div>
                <div class="tree-item"><span class="indent">&#9492;</span> &#128214; README.md <span class="desc">&rarr; Documentation</span></div>
            </div>
            <div class="key-files-box">
                <strong>&#128273; KEY FILES:</strong>
                <span>settings.py = Configuration</span>
                <span>models.py = Database</span>
                <span>views.py = Logic</span>
            </div>
        </div>

        <!-- SLIDE 13: Architecture Diagram -->
        <div class="slide" data-slide="13">
            <h2 class="slide-title">&#127959; FULL-STACK ARCHITECTURE</h2>
            <div class="architecture-flow">
                <div class="arch-node user-node">
                    <span class="arch-icon">&#128100;</span>
                    <span class="arch-label">USER</span>
                </div>
                <div class="arch-arrow"><span>clicks</span><div class="arrow-line"></div></div>
                <div class="arch-node frontend-node">
                    <span class="arch-icon">&#128421;</span>
                    <span class="arch-label">FRONTEND</span>
                    <span class="arch-tech">Mobile / Web</span>
                </div>
                <div class="arch-arrow"><span>HTTP</span><div class="arrow-line"></div></div>
                <div class="arch-node api-node">
                    <span class="arch-icon">&#128268;</span>
                    <span class="arch-label">REST API</span>
                    <span class="arch-tech">/api/students/</span>
                </div>
                <div class="arch-arrow"><span>Process</span><div class="arrow-line"></div></div>
                <div class="arch-node backend-node">
                    <span class="arch-icon">&#9881;</span>
                    <span class="arch-label">BACKEND</span>
                    <span class="arch-tech">Django Views</span>
                </div>
                <div class="arch-arrow"><span>SQL</span><div class="arrow-line"></div></div>
                <div class="arch-node database-node">
                    <span class="arch-icon">&#128451;</span>
                    <span class="arch-label">DATABASE</span>
                    <span class="arch-tech">PostgreSQL</span>
                </div>
            </div>
            <div class="remember-box">
                <p>&#128161; This is the flow for EVERY web/mobile app!</p>
            </div>
        </div>

        <!-- SLIDE 14: Semester Roadmap -->
        <div class="slide" data-slide="14">
            <h2 class="slide-title">&#128197; YOUR LEARNING JOURNEY</h2>
            <div class="timeline">
                <div class="timeline-item active">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <span class="timeline-period">1-2</span>
                        <span class="timeline-icon">&#127760;</span>
                        <span class="timeline-title">Django Basics</span>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <span class="timeline-period">3-4</span>
                        <span class="timeline-icon">&#128241;</span>
                        <span class="timeline-title">Kivy Mobile</span>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <span class="timeline-period">5-6</span>
                        <span class="timeline-icon">&#128451;</span>
                        <span class="timeline-title">Database</span>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <span class="timeline-period">7-8</span>
                        <span class="timeline-icon">&#9729;</span>
                        <span class="timeline-title">Cloud Deploy</span>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <span class="timeline-period">9-12</span>
                        <span class="timeline-icon">&#129302;</span>
                        <span class="timeline-title">AI / MCP</span>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-marker"></div>
                    <div class="timeline-content">
                        <span class="timeline-period">13-16</span>
                        <span class="timeline-icon">&#127919;</span>
                        <span class="timeline-title">Final Project</span>
                    </div>
                </div>
            </div>
            <div class="current-position">
                <span class="position-marker">&#128205;</span>
                <div class="position-info">
                    <strong>YOU ARE HERE - Session 1</strong>
                    <p>Introduction to Full-Stack Development</p>
                </div>
            </div>
            <div class="end-goal">
                <span>&#127942;</span> END GOAL: Build a complete AI-powered application! <span>&#127942;</span>
            </div>
        </div>

        <!-- SLIDE 15: Summary -->
        <div class="slide" data-slide="15">
            <h2 class="slide-title">&#128221; KEY TAKEAWAYS</h2>
            <div class="takeaways-grid">
                <div class="takeaway-card"><span class="takeaway-icon">&#127919;</span><span class="key-term">FULL-STACK</span><p>Frontend + Backend + Database</p></div>
                <div class="takeaway-card"><span class="takeaway-icon">&#128013;</span><span class="key-term">PYTHON</span><p>Our main language</p></div>
                <div class="takeaway-card"><span class="takeaway-icon">&#128302;</span><span class="key-term">VENV</span><p>Isolated environments</p></div>
                <div class="takeaway-card"><span class="takeaway-icon">&#127760;</span><span class="key-term">DJANGO</span><p>Web framework</p></div>
                <div class="takeaway-card"><span class="takeaway-icon">&#128241;</span><span class="key-term">KIVY</span><p>Mobile framework</p></div>
            </div>
            <div class="next-session-box">
                <span class="next-icon">&#128640;</span>
                <div class="next-content">
                    <strong>NEXT: Django Fundamentals</strong>
                    <p>Creating your first Django project with MVT pattern</p>
                </div>
            </div>
            <div class="activities-preview">
                <h4>&#128203; TODAY'S ACTIVITIES:</h4>
                <ol>
                    <li>1.1 - Python Programming Review</li>
                    <li>1.2 - Development Environment Setup</li>
                    <li>1.3 - Full-Stack Architecture Documentation</li>
                </ol>
            </div>
            <div class="completion-badge">
                <span>&#127881;</span> Great job! You're ready! <span>&#127881;</span>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="slide-navigation">
        <button class="nav-btn prev-btn" onclick="prevSlide()" id="prevBtn">&#10094; Previous</button>
        <div class="slide-dots" id="slideDots"></div>
        <button class="nav-btn next-btn" onclick="nextSlide()" id="nextBtn">Next &#10095;</button>
    </div>

    <a href="{{ url_for('subject_detail', id=session.subject_id) }}" class="back-to-sessions">&#8592; Back to Sessions</a>
</div>

<style>
:root {
    --primary: #0EA5E9;
    --primary-dark: #0284C7;
    --primary-light: #E0F2FE;
    --accent-purple: #8B5CF6;
    --accent-green: #10B981;
    --accent-orange: #F59E0B;
    --accent-pink: #EC4899;
    --accent-red: #EF4444;
    --dark: #1E293B;
    --white: #FFFFFF;
    --gray-100: #F1F5F9;
    --gray-200: #E2E8F0;
    --gray-500: #64748B;
}

.lesson-wrapper { max-width: 1100px; margin: 0 auto; padding: 20px; }

/* Progress Bar */
.progress-container { position: fixed; top: 60px; left: 0; right: 0; height: 4px; background: var(--gray-200); z-index: 100; }
.progress-bar { height: 100%; background: linear-gradient(90deg, var(--primary), var(--accent-purple)); width: 6.67%; transition: width 0.3s; }
.progress-text { position: absolute; right: 20px; top: 8px; font-size: 0.85rem; color: var(--gray-500); background: var(--white); padding: 2px 8px; border-radius: 10px; }

/* Slides */
.slides-container { min-height: 600px; position: relative; margin-top: 30px; }
.slide { display: none; animation: fadeIn 0.5s; padding: 30px; background: var(--white); border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); min-height: 550px; }
.slide.active { display: block; }

/* Slide 1: Title */
.slide[data-slide="1"] { background: linear-gradient(135deg, #0EA5E9 0%, #8B5CF6 50%, #EC4899 100%); background-size: 200% 200%; animation: gradientMove 8s ease infinite; position: relative; overflow: hidden; text-align: center; color: var(--white); }
.slide[data-slide="1"].active { display: flex; flex-direction: column; justify-content: center; align-items: center; }
@keyframes gradientMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

.floating-symbols { position: absolute; width: 100%; height: 100%; pointer-events: none; }
.symbol { position: absolute; font-family: monospace; font-size: 1.5rem; color: rgba(255,255,255,0.3); left: var(--x); top: var(--y); animation: float 3s ease-in-out infinite; animation-delay: var(--delay); }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

.course-badge { background: rgba(255,255,255,0.2); padding: 8px 20px; border-radius: 30px; font-size: 0.9rem; margin-bottom: 30px; }
.main-title { font-size: 2.5rem; margin: 5px 0; text-shadow: 2px 2px 10px rgba(0,0,0,0.2); }
.subtitle { font-size: 1.2rem; margin-top: 20px; opacity: 0; animation: fadeIn 1s ease forwards 2s; }
.start-btn { margin-top: 40px; padding: 15px 40px; font-size: 1.1rem; background: var(--white); color: var(--primary); border: none; border-radius: 50px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 10px; animation: pulse 2s infinite; }
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

/* Slide Header & Content */
.slide-header { text-align: center; margin-bottom: 30px; }
.lightbulb-icon { font-size: 3rem; animation: glow 2s infinite; }
@keyframes glow { 0%, 100% { text-shadow: 0 0 10px rgba(245, 158, 11, 0.5); } 50% { text-shadow: 0 0 30px rgba(245, 158, 11, 0.8); } }
.slide-title { text-align: center; font-size: 1.8rem; margin-bottom: 25px; color: var(--dark); }
.slide-subtitle { text-align: center; color: var(--gray-500); margin-bottom: 20px; }

/* Objectives */
.objectives-container { display: flex; flex-direction: column; gap: 15px; max-width: 700px; margin: 0 auto; }
.objective-card { display: flex; align-items: center; gap: 15px; background: var(--gray-100); padding: 18px; border-radius: 12px; opacity: 0; transform: translateX(-30px); animation: slideInLeft 0.5s ease forwards; animation-delay: var(--delay); }
@keyframes slideInLeft { to { opacity: 1; transform: translateX(0); } }
.obj-number { width: 36px; height: 36px; background: linear-gradient(135deg, var(--primary), var(--accent-purple)); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
.obj-icon { font-size: 1.8rem; }
.obj-content { flex: 1; }
.obj-content p { margin: 5px 0 0; color: var(--gray-500); }
.obj-check { color: var(--accent-green); font-size: 1.5rem; font-weight: bold; }

/* Key Terms */
.key-term { background: linear-gradient(135deg, var(--primary), var(--accent-purple)); color: white; padding: 4px 12px; border-radius: 6px; font-weight: bold; display: inline-block; font-size: 0.9rem; }
.key-term-inline { padding: 2px 8px; border-radius: 4px; font-weight: 600; }
.key-term-inline.mutable { background: var(--accent-green); color: white; }
.key-term-inline.immutable { background: var(--accent-orange); color: white; }

/* Stack Diagram */
.stack-diagram { display: flex; justify-content: center; gap: 15px; margin: 25px 0; flex-wrap: wrap; align-items: center; }
.stack-layer { padding: 20px 25px; border-radius: 16px; text-align: center; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s; min-width: 160px; }
.stack-layer:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
.stack-layer.frontend { background: linear-gradient(135deg, var(--primary-light), #BAE6FD); border: 2px solid var(--primary); }
.stack-layer.backend { background: linear-gradient(135deg, #F5F3FF, #EDE9FE); border: 2px solid var(--accent-purple); }
.stack-layer.database { background: linear-gradient(135deg, #ECFDF5, #D1FAE5); border: 2px solid var(--accent-green); }
.layer-icon { font-size: 2.2rem; display: block; margin-bottom: 8px; }
.layer-name { font-weight: bold; font-size: 1rem; color: var(--dark); }
.layer-desc { color: var(--gray-500); font-size: 0.85rem; margin-top: 5px; }
.flow-arrow-horizontal { font-size: 2rem; color: var(--gray-500); }

/* Definition Box */
.definition-box { background: var(--primary-light); border-left: 4px solid var(--primary); padding: 18px 22px; border-radius: 0 12px 12px 0; margin-top: 25px; display: flex; gap: 15px; align-items: flex-start; }
.def-icon { font-size: 1.5rem; }
.def-content strong { color: var(--primary-dark); }

/* Flip Cards */
.flip-cards-container { display: flex; justify-content: center; gap: 25px; margin-top: 25px; flex-wrap: wrap; }
.flip-card { width: 200px; height: 260px; perspective: 1000px; cursor: pointer; }
.flip-card-inner { position: relative; width: 100%; height: 100%; transition: transform 0.8s; transform-style: preserve-3d; }
.flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
.flip-card-front, .flip-card-back { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; border-radius: 16px; padding: 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
.flip-card-front.frontend-card { background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; }
.flip-card-front.backend-card { background: linear-gradient(135deg, var(--accent-purple), #6D28D9); color: white; }
.flip-card-front.database-card { background: linear-gradient(135deg, var(--accent-green), #059669); color: white; }
.flip-card-front .card-icon { font-size: 2.5rem; margin-bottom: 12px; }
.flip-card-front h3 { margin: 0; font-size: 1.2rem; }
.flip-card-back { background: var(--white); border: 2px solid var(--gray-200); transform: rotateY(180deg); text-align: left; align-items: flex-start; justify-content: flex-start; }
.flip-card-back h4 { margin: 0 0 10px; color: var(--dark); }
.flip-card-back ul { margin: 0; padding-left: 18px; color: var(--gray-500); font-size: 0.9rem; }
.flip-card-back li { margin: 4px 0; }
.card-quote { margin-top: auto; font-style: italic; color: var(--primary); font-size: 0.85rem; }

/* Tech Stack Tower */
.tech-stack-tower { display: flex; flex-direction: column; gap: 8px; max-width: 550px; margin: 0 auto; }
.stack-level { display: flex; align-items: center; gap: 12px; padding: 12px 15px; background: var(--white); border-radius: 10px; border: 2px solid var(--gray-200); opacity: 0; transform: translateX(-50px); animation: slideInBounce 0.6s ease forwards; animation-delay: var(--delay); }
@keyframes slideInBounce { 0% { opacity: 0; transform: translateX(-50px); } 70% { transform: translateX(10px); } 100% { opacity: 1; transform: translateX(0); } }
.level-number { width: 28px; height: 28px; background: var(--dark); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.85rem; }
.level-content { flex: 1; display: flex; align-items: center; gap: 12px; padding: 8px 12px; border-radius: 8px; }
.level-content.mobile-level { background: #FDF4FF; }
.level-content.web-level { background: #F0F9FF; }
.level-content.api-level { background: #FFF7ED; }
.level-content.backend-level { background: #F5F3FF; }
.level-content.db-level { background: #ECFDF5; }
.level-icon { font-size: 1.3rem; }
.level-info strong { display: block; color: var(--dark); font-size: 0.9rem; }
.level-info span { font-size: 0.75rem; color: var(--gray-500); }
.level-tech { background: var(--dark); color: white; padding: 4px 10px; border-radius: 15px; font-size: 0.7rem; font-weight: 600; }
.stack-badge { text-align: center; margin-top: 20px; padding: 12px; background: linear-gradient(135deg, var(--accent-orange), var(--accent-pink)); color: white; border-radius: 50px; font-weight: bold; font-size: 1.1rem; opacity: 0; animation: popIn 0.5s ease forwards 1.5s; }
@keyframes popIn { 0% { opacity: 0; transform: scale(0); } 80% { transform: scale(1.1); } 100% { opacity: 1; transform: scale(1); } }

/* Remember Box */
.remember-box { background: linear-gradient(135deg, #FEF3C7, #FDE68A); border: 2px solid var(--accent-orange); border-radius: 12px; padding: 15px 20px; margin-top: 20px; position: relative; text-align: center; }
.remember-box::before { content: "REMEMBER"; position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: var(--accent-orange); color: white; padding: 2px 15px; border-radius: 20px; font-size: 0.7rem; font-weight: bold; }

/* Data Types Grid */
.data-types-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-bottom: 20px; }
.type-card { background: var(--white); border: 2px solid var(--gray-200); border-radius: 12px; padding: 15px; transition: transform 0.3s; }
.type-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
.type-header { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 2px solid var(--gray-100); }
.type-icon { font-size: 1.3rem; }
.type-name { font-weight: bold; color: var(--dark); }
.type-visual { font-family: monospace; font-size: 1.1rem; color: var(--primary); text-align: center; padding: 12px; background: var(--gray-100); border-radius: 8px; margin-bottom: 12px; }
.list-visual { display: flex; justify-content: center; gap: 5px; }
.list-visual span { background: var(--primary); color: white; padding: 6px 12px; border-radius: 4px; }
.dict-visual { text-align: left; font-size: 0.9rem; }
.dict-row { display: flex; margin: 3px 0; }
.dict-row .key { background: var(--accent-purple); color: white; padding: 2px 8px; border-radius: 4px 0 0 4px; }
.dict-row .val { background: var(--accent-green); color: white; padding: 2px 8px; border-radius: 0 4px 4px 0; }
.code-block { background: var(--dark); border-radius: 8px; padding: 12px; font-family: monospace; font-size: 0.8rem; }
.code-block code { display: block; color: #E2E8F0; margin: 2px 0; }
.code-block .var { color: #7DD3FC; }
.code-block .str { color: #86EFAC; }
.code-block .num { color: #FCD34D; }
.code-block .func { color: #C4B5FD; }
.code-block .keyword { color: #F472B6; }
.code-block .comment, .code-block .output { color: #64748B; }
.type-badge { display: inline-block; margin-top: 10px; padding: 4px 10px; border-radius: 15px; font-size: 0.75rem; font-weight: 600; }
.type-badge.immutable { background: #FEF3C7; color: #B45309; }
.type-badge.mutable { background: #D1FAE5; color: #047857; }
.key-point-box { background: var(--primary-light); padding: 12px 18px; border-radius: 10px; display: flex; align-items: center; gap: 12px; }
.key-icon { font-size: 1.3rem; }

/* Control Tabs */
.control-tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
.tab-btn { padding: 10px 20px; border: 2px solid var(--gray-200); background: var(--white); border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s; }
.tab-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
.control-content { min-height: 300px; }
.control-panel { display: none; gap: 25px; }
.control-panel.active { display: flex; }
.flowchart { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 8px; }
.flow-node { padding: 10px 20px; border-radius: 8px; font-family: monospace; font-weight: 600; font-size: 0.9rem; }
.flow-node.start { background: var(--primary-light); border: 2px solid var(--primary); }
.flow-node.condition { background: #FEF3C7; border: 2px solid var(--accent-orange); }
.flow-arrow { color: var(--gray-500); font-size: 1.3rem; }
.flow-branches { display: flex; gap: 30px; }
.flow-branch { display: flex; flex-direction: column; align-items: center; gap: 8px; }
.branch-label { background: var(--dark); color: white; padding: 2px 10px; border-radius: 10px; font-size: 0.75rem; }
.flow-node.result.success { background: #D1FAE5; border: 2px solid var(--accent-green); }
.flow-node.result.fail { background: #FEE2E2; border: 2px solid var(--accent-red); }
.code-example { flex: 1; }
.code-block-large { background: var(--dark); border-radius: 12px; padding: 18px; font-family: monospace; font-size: 0.9rem; }
.code-block-large code { display: block; color: #E2E8F0; margin: 4px 0; }
.loop-visual { display: flex; gap: 12px; justify-content: center; margin-bottom: 20px; flex-wrap: wrap; }
.loop-iteration { background: var(--primary); color: white; padding: 12px 18px; border-radius: 8px; font-family: monospace; font-weight: bold; }
.while-visual { text-align: center; margin-bottom: 20px; }
.counter-display { font-size: 3.5rem; font-weight: bold; color: var(--primary); }
.run-btn { padding: 10px 25px; background: var(--accent-green); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; font-weight: 600; margin-top: 10px; }

/* Split View */
.split-view { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.split-panel { background: var(--gray-100); border-radius: 12px; padding: 18px; }
.split-panel h3 { text-align: center; margin-bottom: 15px; color: var(--dark); }
.function-diagram { display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
.func-input, .func-output { background: var(--primary-light); padding: 8px 12px; border-radius: 8px; text-align: center; font-size: 0.8rem; }
.func-arrow { font-size: 1.3rem; color: var(--gray-500); }
.func-box { background: var(--accent-purple); color: white; padding: 15px; border-radius: 10px; text-align: center; }
.func-box span { font-size: 0.75rem; opacity: 0.8; }
.func-box code { display: block; font-weight: bold; margin-top: 4px; }
.class-diagram { display: flex; justify-content: center; }
.class-box { background: var(--white); border: 2px solid var(--accent-purple); border-radius: 12px; overflow: hidden; width: 180px; }
.class-header { background: var(--accent-purple); color: white; padding: 10px; text-align: center; font-weight: bold; font-size: 0.9rem; }
.class-section { padding: 12px; border-bottom: 1px solid var(--gray-200); }
.class-section:last-child { border-bottom: none; }
.section-title { font-weight: 600; font-size: 0.8rem; color: var(--gray-500); }
.class-section ul { margin: 8px 0 0; padding-left: 18px; color: var(--dark); font-size: 0.85rem; }
.dual-tips { display: flex; gap: 15px; margin-top: 18px; }
.tip-box { flex: 1; background: var(--primary-light); padding: 12px; border-radius: 8px; text-align: center; font-size: 0.9rem; }

/* Progress Ring */
.progress-ring-container { position: relative; width: 120px; height: 120px; margin: 0 auto 25px; }
.progress-ring { transform: rotate(-90deg); }
.progress-ring-bg { fill: none; stroke: var(--gray-200); stroke-width: 8; }
.progress-ring-fill { fill: none; stroke: url(#gradient); stroke-width: 8; stroke-linecap: round; stroke-dasharray: 327; stroke-dashoffset: 82; }
.progress-text-ring { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; font-weight: bold; color: var(--primary); font-size: 0.9rem; }

/* Setup Checklist */
.setup-checklist { max-width: 550px; margin: 0 auto; }
.setup-item { display: flex; align-items: flex-start; gap: 12px; padding: 15px; background: var(--white); border: 2px solid var(--gray-200); border-radius: 10px; margin-bottom: 12px; }
.setup-item.checked { border-color: var(--accent-green); }
.check-box { font-size: 1.3rem; color: var(--accent-green); }
.setup-icon { font-size: 1.8rem; }
.setup-info { flex: 1; }
.setup-info strong { display: block; color: var(--dark); margin-bottom: 4px; font-size: 0.95rem; }
.setup-info code { display: block; background: var(--gray-100); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; margin: 4px 0; }
.status { font-size: 0.8rem; }
.status.success { color: var(--accent-green); }
.status.pending { color: var(--accent-orange); }

/* Venv Diagram */
.venv-diagram { margin: 20px 0; }
.system-python { background: var(--gray-100); border: 2px dashed var(--gray-500); border-radius: 16px; padding: 18px; }
.system-header { text-align: center; font-weight: bold; color: var(--accent-red); margin-bottom: 18px; font-size: 0.95rem; }
.projects-row { display: flex; gap: 25px; justify-content: center; flex-wrap: wrap; }
.project-box { background: var(--white); border: 2px solid var(--primary); border-radius: 12px; padding: 15px; min-width: 180px; text-align: center; }
.project-name { font-weight: bold; color: var(--dark); margin-bottom: 12px; font-size: 0.9rem; }
.venv-box { background: var(--primary-light); border-radius: 8px; padding: 12px; }
.venv-label { font-family: monospace; color: var(--primary-dark); font-weight: bold; font-size: 0.85rem; }
.packages { margin-top: 8px; display: flex; flex-direction: column; gap: 4px; }
.pkg { background: var(--white); padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; }
.pkg.django { background: #D1FAE5; }
.pkg.flask { background: #FEF3C7; }
.isolated-badge { margin-top: 12px; color: var(--accent-green); font-weight: bold; font-size: 0.85rem; }
.benefits-list { display: flex; flex-direction: column; gap: 8px; max-width: 450px; margin: 18px auto 0; }
.benefit-item { background: #D1FAE5; padding: 10px 18px; border-radius: 8px; color: #047857; font-weight: 500; font-size: 0.9rem; }

/* Terminal */
.terminal-window { background: #1E1E1E; border-radius: 12px; overflow: hidden; max-width: 600px; margin: 0 auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
.terminal-header { background: #323232; padding: 10px 15px; display: flex; align-items: center; gap: 8px; }
.terminal-btn { width: 12px; height: 12px; border-radius: 50%; }
.terminal-btn.red { background: #FF5F56; }
.terminal-btn.yellow { background: #FFBD2E; }
.terminal-btn.green { background: #27C93F; }
.terminal-title { flex: 1; text-align: center; color: #888; font-size: 0.8rem; }
.terminal-body { padding: 18px; font-family: monospace; font-size: 0.85rem; }
.terminal-line { margin: 6px 0; display: flex; align-items: center; gap: 8px; }
.terminal-line .comment { color: #6A9955; }
.terminal-line .prompt { color: #569CD6; }
.terminal-line .command { color: #DCDCAA; }
.terminal-line .info { color: #6A9955; font-style: italic; }
.terminal-line.success .prompt { color: #4EC9B0; }
.copy-btn { background: transparent; border: 1px solid #555; color: #888; padding: 2px 8px; border-radius: 4px; cursor: pointer; font-size: 0.75rem; }
.copy-btn:hover { background: #555; color: white; }

/* Folder Tree */
.folder-tree { background: var(--gray-100); border-radius: 12px; padding: 20px; font-family: monospace; max-width: 550px; margin: 0 auto 18px; font-size: 0.9rem; }
.tree-item { padding: 6px 0; display: flex; align-items: center; gap: 6px; }
.tree-item.root { font-weight: bold; font-size: 1rem; }
.tree-item.folder { cursor: pointer; }
.tree-item .desc { color: var(--gray-500); font-size: 0.8rem; margin-left: 8px; }
.tree-children { display: none; padding-left: 15px; }
.tree-item.folder.expanded > .tree-children { display: block; }
.key-files-box { background: #F5F3FF; border: 2px solid var(--accent-purple); border-radius: 12px; padding: 15px; max-width: 400px; margin: 0 auto; text-align: center; }
.key-files-box span { display: inline-block; background: var(--white); padding: 4px 10px; border-radius: 15px; margin: 4px; font-size: 0.85rem; }

/* Architecture Flow */
.architecture-flow { display: flex; flex-direction: column; align-items: center; gap: 5px; }
.arch-node { padding: 15px 25px; border-radius: 12px; text-align: center; min-width: 140px; }
.arch-icon { font-size: 1.8rem; display: block; }
.arch-label { font-weight: bold; display: block; margin-top: 4px; font-size: 0.9rem; }
.arch-tech { font-size: 0.75rem; color: var(--gray-500); }
.user-node { background: #FEF3C7; border: 2px solid var(--accent-orange); }
.frontend-node { background: var(--primary-light); border: 2px solid var(--primary); }
.api-node { background: #FFF7ED; border: 2px solid var(--accent-orange); }
.backend-node { background: #F5F3FF; border: 2px solid var(--accent-purple); }
.database-node { background: #ECFDF5; border: 2px solid var(--accent-green); }
.arch-arrow { display: flex; flex-direction: column; align-items: center; color: var(--gray-500); font-size: 0.75rem; }
.arrow-line { width: 2px; height: 15px; background: var(--gray-500); position: relative; }
.arrow-line::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 6px solid var(--gray-500); }

/* Timeline */
.timeline { display: flex; justify-content: space-between; margin: 25px 0; padding: 0 10px; flex-wrap: wrap; gap: 10px; }
.timeline-item { display: flex; flex-direction: column; align-items: center; flex: 1; min-width: 80px; }
.timeline-marker { width: 16px; height: 16px; background: var(--gray-200); border-radius: 50%; margin-bottom: 10px; }
.timeline-item.active .timeline-marker { background: var(--primary); box-shadow: 0 0 0 4px var(--primary-light); }
.timeline-content { text-align: center; }
.timeline-period { background: var(--dark); color: white; padding: 2px 8px; border-radius: 10px; font-size: 0.7rem; font-weight: bold; }
.timeline-icon { font-size: 1.3rem; display: block; margin: 8px 0 4px; }
.timeline-title { font-size: 0.75rem; color: var(--dark); }
.current-position { display: flex; align-items: flex-start; gap: 12px; max-width: 450px; margin: 0 auto; background: var(--primary-light); padding: 15px; border-radius: 10px; border-left: 4px solid var(--primary); }
.position-marker { font-size: 1.8rem; }
.position-info strong { color: var(--primary); font-size: 0.95rem; }
.position-info p { margin: 4px 0 0; color: var(--gray-500); font-size: 0.85rem; }
.end-goal { text-align: center; margin-top: 20px; padding: 12px; background: linear-gradient(135deg, var(--accent-orange), var(--accent-pink)); color: white; border-radius: 50px; font-weight: bold; font-size: 0.95rem; }

/* Summary */
.takeaways-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 20px; }
.takeaway-card { background: var(--gray-100); border-radius: 10px; padding: 15px; text-align: center; transition: transform 0.3s; }
.takeaway-card:hover { transform: translateY(-5px); }
.takeaway-icon { font-size: 1.8rem; display: block; margin-bottom: 8px; }
.takeaway-card p { margin: 8px 0 0; color: var(--gray-500); font-size: 0.8rem; }
.next-session-box { background: linear-gradient(135deg, var(--primary), var(--accent-purple)); color: white; border-radius: 12px; padding: 18px; display: flex; gap: 15px; align-items: center; margin-bottom: 15px; }
.next-icon { font-size: 2rem; }
.next-content strong { font-size: 1rem; }
.next-content p { margin: 4px 0 0; opacity: 0.9; font-size: 0.85rem; }
.activities-preview { background: var(--gray-100); border-radius: 10px; padding: 15px; margin-bottom: 15px; }
.activities-preview h4 { margin: 0 0 8px; font-size: 0.95rem; }
.activities-preview ol { margin: 0; padding-left: 22px; font-size: 0.9rem; }
.activities-preview li { margin: 4px 0; }
.completion-badge { text-align: center; padding: 15px; background: linear-gradient(135deg, #D1FAE5, #A7F3D0); border-radius: 50px; font-size: 1.1rem; font-weight: bold; color: #047857; }

/* Navigation */
.slide-navigation { display: flex; justify-content: space-between; align-items: center; margin-top: 25px; padding: 18px; background: var(--gray-100); border-radius: 12px; }
.nav-btn { padding: 10px 22px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s; font-size: 0.95rem; }
.prev-btn { background: var(--gray-200); color: var(--dark); }
.next-btn { background: var(--primary); color: white; }
.nav-btn:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
.nav-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
.slide-dots { display: flex; gap: 6px; }
.slide-dot { width: 10px; height: 10px; border-radius: 50%; background: var(--gray-200); cursor: pointer; transition: all 0.3s; }
.slide-dot.active { background: var(--primary); transform: scale(1.2); }
.back-to-sessions { display: inline-block; margin-top: 18px; color: var(--gray-500); text-decoration: none; font-weight: 500; }
.back-to-sessions:hover { color: var(--primary); }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

@media (max-width: 768px) {
    .main-title { font-size: 1.6rem; }
    .flip-cards-container { flex-direction: column; align-items: center; }
    .split-view, .data-types-grid { grid-template-columns: 1fr; }
    .stack-diagram { flex-direction: column; }
    .timeline { flex-direction: column; }
}
</style>

<script>
let currentSlide = 1;
const totalSlides = 15;

document.addEventListener('DOMContentLoaded', function() {
    createDots();
    updateNavigation();
    document.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowRight' || e.key === ' ') { e.preventDefault(); nextSlide(); }
        else if (e.key === 'ArrowLeft') { e.preventDefault(); prevSlide(); }
    });
});

function createDots() {
    const dotsContainer = document.getElementById('slideDots');
    for (let i = 1; i <= totalSlides; i++) {
        const dot = document.createElement('div');
        dot.className = 'slide-dot' + (i === 1 ? ' active' : '');
        dot.onclick = () => goToSlide(i);
        dotsContainer.appendChild(dot);
    }
}

function updateNavigation() {
    document.getElementById('currentSlide').textContent = currentSlide;
    document.getElementById('prevBtn').disabled = currentSlide === 1;
    document.getElementById('nextBtn').disabled = currentSlide === totalSlides;
    document.getElementById('progressBar').style.width = (currentSlide / totalSlides * 100) + '%';
    document.querySelectorAll('.slide-dot').forEach((dot, i) => dot.classList.toggle('active', i + 1 === currentSlide));
}

function goToSlide(n) {
    document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
    currentSlide = n;
    document.querySelector(`[data-slide="${n}"]`).classList.add('active');
    updateNavigation();
}

function nextSlide() { if (currentSlide < totalSlides) goToSlide(currentSlide + 1); }
function prevSlide() { if (currentSlide > 1) goToSlide(currentSlide - 1); }

function showControlTab(tab, btn) {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.control-panel').forEach(p => p.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(tab + '-panel').classList.add('active');
}

function runWhileDemo() {
    let count = 5;
    const counter = document.getElementById('whileCounter');
    const interval = setInterval(() => {
        counter.textContent = count;
        count--;
        if (count < 0) { clearInterval(interval); counter.textContent = 'Done!'; setTimeout(() => counter.textContent = '5', 1500); }
    }, 500);
}

function toggleFolder(el) { el.classList.toggle('expanded'); }

function copyCommand(text) {
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const orig = btn.innerHTML;
        btn.textContent = '';
        setTimeout(() => btn.innerHTML = orig, 1000);
    });
}

function showLayerDetail(layer) {
    const details = {
        frontend: 'Frontend is what users see - HTML, CSS, JavaScript, and mobile UIs.',
        backend: 'Backend handles server logic, business rules, authentication, and APIs.',
        database: 'Database stores all application data persistently.'
    };
    alert(details[layer]);
}
</script>
{% endblock %}
