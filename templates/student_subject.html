{% extends 'base.html' %}

{% block title %}{{ subject.code }} - Classroom LMS{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{{ subject.code }} - {{ subject.name }}</h1>
    <a href="{{ url_for('student_dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
</div>

<!-- Available Quizzes -->
<div class="card">
    <div class="card-header">
        <span class="card-title">Available Quizzes</span>
    </div>
    {% if quizzes %}
    <ul class="session-list">
        {% for quiz in quizzes %}
        <li class="session-item">
            <div>
                <strong>Session {{ quiz.session_number }}: {{ quiz.title }}</strong>
                {% if quiz.time_limit > 0 %}
                <small>({{ quiz.time_limit }} min)</small>
                {% endif %}
            </div>
            <a href="{{ url_for('take_quiz', quiz_id=quiz.id) }}" class="btn btn-sm">Take Quiz</a>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-center">No quizzes available yet.</p>
    {% endif %}
</div>

<!-- Available Exams -->
<div class="card mt-20">
    <div class="card-header">
        <span class="card-title">Available Exams</span>
    </div>
    {% if exams %}
    <ul class="session-list">
        {% for exam in exams %}
        <li class="session-item">
            <div>
                <strong>{{ exam.exam_type|capitalize }}: {{ exam.title }}</strong>
                {% if exam.time_limit > 0 %}
                <small>({{ exam.time_limit }} min)</small>
                {% endif %}
            </div>
            <a href="{{ url_for('take_exam', exam_id=exam.id) }}" class="btn btn-sm">Take Exam</a>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-center">No exams available yet.</p>
    {% endif %}
</div>

<!-- Sessions & Activities -->
<div class="card mt-20">
    <div class="card-header">
        <span class="card-title">Sessions & Activities</span>
    </div>
    <ul class="session-list">
        {% for session in sessions %}
        <li class="session-item">
            <div>
                <strong>Session {{ session.session_number }}</strong>
                <span> - {{ session.title }}</span>
            </div>
            <a href="{{ url_for('student_session_activities', session_id=session.id) }}" class="btn btn-sm">View Activities</a>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
