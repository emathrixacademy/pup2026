{% extends 'base.html' %}

{% block title %}My Classes - Sangrenes LMS Portal{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1><i class="fas fa-chalkboard-teacher"></i> My Classes</h1>
        <p class="page-subtitle">Manage your subjects and class schedules</p>
    </div>
</div>

<div class="subjects-grid">
    {% for subject in subjects %}
    {% set subject_color = 'blue' %}
    {% if 'COMP019' in subject.code %}
        {% set subject_color = 'emerald' %}
    {% elif 'COMP012' in subject.code %}
        {% set subject_color = 'violet' %}
    {% elif 'CNS' in subject.code %}
        {% set subject_color = 'amber' %}
    {% elif 'ES' in subject.code %}
        {% set subject_color = 'rose' %}
    {% endif %}

    <div class="subject-card-modern {{ subject_color }}">
        <div class="subject-card-accent"></div>
        <div class="subject-card-content">
            <div class="subject-schedule">
                <i class="fas fa-calendar-alt"></i>
                <span>{{ subject.day }} {{ subject.time_schedule }}</span>
            </div>

            <div class="subject-info">
                <span class="subject-code">{{ subject.code }}</span>
                <h3 class="subject-name">{{ subject.name }}</h3>
                <p class="subject-section"><i class="fas fa-users"></i> {{ subject.section }}</p>
            </div>

            <div class="subject-actions">
                <a href="{{ url_for('subject_detail', id=subject.id) }}" class="action-btn primary">
                    <i class="fas fa-folder-open"></i>
                    <span>Sessions</span>
                </a>
                <a href="{{ url_for('all_activities', subject_id=subject.id) }}" class="action-btn secondary">
                    <i class="fas fa-tasks"></i>
                    <span>Activities</span>
                </a>
                <a href="{{ url_for('subject_exams', subject_id=subject.id) }}" class="action-btn tertiary">
                    <i class="fas fa-file-alt"></i>
                    <span>Exams</span>
                </a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% if not subjects %}
<div class="empty-state-modern">
    <div class="empty-icon">
        <i class="fas fa-book-open"></i>
    </div>
    <h3>No Classes Yet</h3>
    <p>Your classes will appear here once they are assigned.</p>
</div>
{% endif %}

<style>
.page-subtitle {
    color: #64748B;
    font-size: 0.95rem;
    margin-top: 4px;
}

.subjects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 24px;
    margin-top: 24px;
}

/* Modern Subject Card */
.subject-card-modern {
    position: relative;
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.subject-card-modern:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.subject-card-accent {
    height: 6px;
    width: 100%;
}

/* Color Variants */
.subject-card-modern.emerald .subject-card-accent { background: linear-gradient(90deg, #10B981, #34D399); }
.subject-card-modern.emerald .subject-code { background: linear-gradient(135deg, #10B981, #059669); }
.subject-card-modern.emerald .action-btn.primary { background: #10B981; }
.subject-card-modern.emerald .action-btn.primary:hover { background: #059669; }

.subject-card-modern.violet .subject-card-accent { background: linear-gradient(90deg, #8B5CF6, #A78BFA); }
.subject-card-modern.violet .subject-code { background: linear-gradient(135deg, #8B5CF6, #7C3AED); }
.subject-card-modern.violet .action-btn.primary { background: #8B5CF6; }
.subject-card-modern.violet .action-btn.primary:hover { background: #7C3AED; }

.subject-card-modern.amber .subject-card-accent { background: linear-gradient(90deg, #F59E0B, #FBBF24); }
.subject-card-modern.amber .subject-code { background: linear-gradient(135deg, #F59E0B, #D97706); }
.subject-card-modern.amber .action-btn.primary { background: #F59E0B; }
.subject-card-modern.amber .action-btn.primary:hover { background: #D97706; }

.subject-card-modern.rose .subject-card-accent { background: linear-gradient(90deg, #F43F5E, #FB7185); }
.subject-card-modern.rose .subject-code { background: linear-gradient(135deg, #F43F5E, #E11D48); }
.subject-card-modern.rose .action-btn.primary { background: #F43F5E; }
.subject-card-modern.rose .action-btn.primary:hover { background: #E11D48; }

.subject-card-modern.blue .subject-card-accent { background: linear-gradient(90deg, #0EA5E9, #38BDF8); }
.subject-card-modern.blue .subject-code { background: linear-gradient(135deg, #0EA5E9, #0284C7); }
.subject-card-modern.blue .action-btn.primary { background: #0EA5E9; }
.subject-card-modern.blue .action-btn.primary:hover { background: #0284C7; }

.subject-card-content {
    padding: 20px;
}

.subject-schedule {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 14px;
    background: #F1F5F9;
    border-radius: 24px;
    font-size: 0.8rem;
    font-weight: 600;
    color: #475569;
    margin-bottom: 16px;
}

.subject-schedule i {
    color: #64748B;
}

.subject-info {
    margin-bottom: 20px;
}

.subject-code {
    display: inline-block;
    color: white;
    font-size: 0.75rem;
    font-weight: 700;
    padding: 6px 12px;
    border-radius: 6px;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
}

.subject-name {
    font-size: 1.15rem;
    font-weight: 700;
    color: #1E293B;
    margin-bottom: 8px;
    line-height: 1.3;
}

.subject-section {
    color: #64748B;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.subject-section i {
    font-size: 0.85rem;
}

/* Action Buttons */
.subject-actions {
    display: flex;
    gap: 10px;
}

.action-btn {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 6px;
    padding: 14px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.2s ease;
}

.action-btn i {
    font-size: 1.1rem;
}

.action-btn.primary {
    color: white;
}

.action-btn.secondary {
    background: #F1F5F9;
    color: #475569;
}

.action-btn.secondary:hover {
    background: #E2E8F0;
    color: #1E293B;
}

.action-btn.tertiary {
    background: #FEF3C7;
    color: #92400E;
}

.action-btn.tertiary:hover {
    background: #FDE68A;
    color: #78350F;
}

/* Empty State */
.empty-state-modern {
    text-align: center;
    padding: 80px 40px;
    background: white;
    border-radius: 20px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    margin-top: 40px;
}

.empty-icon {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, #F1F5F9, #E2E8F0);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 24px;
}

.empty-icon i {
    font-size: 2.5rem;
    color: #94A3B8;
}

.empty-state-modern h3 {
    color: #1E293B;
    font-size: 1.25rem;
    margin-bottom: 8px;
}

.empty-state-modern p {
    color: #64748B;
}

/* Responsive */
@media (max-width: 768px) {
    .subjects-grid {
        grid-template-columns: 1fr;
        gap: 16px;
    }

    .subject-actions {
        flex-wrap: wrap;
    }

    .action-btn {
        min-width: calc(33% - 8px);
    }
}
</style>
{% endblock %}
